#明确研究目的####

#你是要预测某个患者在10年后的生存状态吗？
#你还是要判断某个病理标本是tumor还是normal？
#你是要计算患者在使用某个药物后的空腹血糖水平吗？
#你还是要预测心梗患者的死亡风险？

#以上四个问题其实可以分为三类，刚好对应着模型的三种用途：
#分类
#回归
#生存分析


#如果你的结果变量（或者叫应变量、因变量）是数值型的
#此时你选择逻辑回归必然是不行的

#如果你的结果变量是分类型的，比如生存/死亡，tumor/normal，治愈/有效/无效，患病/不患病
#需要选择一个可以做分类分析的模型

#以上两种类型的模型通常会被大家称为(诊断模型)

#如果你的数据涉及到时间问题,需要选择一个可以做生存分析的模型
#这种模型通常被大家称为(预后模型)


#探索数据####
#**探索性数据分析（exploratory-data-analysis，EDA）

#共有多少行？多少列？
#哪些是自变量，哪些是因变量？
#每个变量的含义是什么？
#有没有缺失值？离群值？异常值？需不需要处理？
#有没有偏态分布？需不需要处理？
#每个变量是数值型还是分类型？需要转换吗？
#各个变量的单位是否需要转换？需要归一化吗？
#各个变量之间有没有相关性？共线性？零方差？需要处理吗？

#数据预处理和变量筛选####
#dummy：对分类变量进行哑变量处理，或者进行其他重编码####
#基本原理：
#对于一个有k个类别的分类变量，创建k-1个新的二进制变量（0或1）

#其中一个类别作为参照类别（通常编码为全0）

#其他类别用1表示"属于该类别"，0表示"不属于"

#假设有"颜色"变量，包含红、绿、蓝三个类别：

#原始数据：
#颜色
#红
#绿
#蓝
#红

#哑变量处理后：
#颜色_红 颜色_绿
#1      0
#0      1
#0      0
#1      0

#重编码（Recoding）####
#重编码是一个更广泛的概念，指将变量从一种表示形式转换为另一种表示形式，包括：
#分类变量重编码：
#哑变量处理
#效应编码（Effect Coding）

#对比编码（Contrast Coding）

#将文本标签转换为数字代码
#连续变量重编码：
#分箱（Binning）：将连续变量转换为有序分类变量
#标准化/归一化
#对数变换等

#zv：去除方差为0（zero-variance）或者近似为0的变量####

#impute：对缺失值进行插补####

#decorrelate：处理有共线性或者高度相关的变量####

#normalize：对数据进行标准化####

#transform：对变量进行转换，比如log、取对数、分箱等####

#变量选择(又叫特征选择,feature-selection)####

#到底哪些变量是有用的，哪些是不重要的，可以删除的
#怎么选才能提高模型表现，理论其实非常复杂

#常见的变量筛选方法有：####
#先单因素后多因素
#最优子集（全子集回归）
#逐步选择法
#lasso回归筛选变量
#随机森林筛选变量

#建立模型####
#狭义单指“在训练集拟合模型”
#广义包括所说的所有步骤
#各种重抽样方法的选择
#boostrap（自助法，也有人翻译成拔靴法）
#交叉验证
#嵌套重抽样

#评价模型####
#是一个不断重复循环的过程
#需要在不同的数据集中分别评价
#你是想获得更大的敏感度还是更大的特异度？
#你想要更高的误诊率还是更大的漏诊率？

#敏感性分析——验证结果真实性####
#例如在一项评估新药疗效的RCT研究中，可能进行以下敏感性分析：
#主要分析：意向治疗分析(ITT)
#敏感性分析：
#仅分析依从性>80%的患者
#排除使用禁用药物的患者
#使用多重填补法处理缺失数据
#采用不同的统计模型(如逻辑回归替代COX回归)
#如果所有这些敏感性分析都支持主要结论，那么研究结果的可信度就大大增强。

#列线图展示模型####